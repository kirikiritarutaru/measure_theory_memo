---
marp: true
---

# 測度論について

測度論：
　集合が与えられたとき、その部分集合の大きさを「どのように測るか」という理論

---
# 記号の約束
- 整数全体の集合を$\mathbb{Z}$、有理数全体の集合を$\mathbb{Q}$、実数全体の集合を$\mathbb{R}$、複素数全体の集合を$\mathbb{C}$とする。
- **[Def]** を定義、**[Thm]** を定理、**[Prf]** を証明、**[Lem]** を補題、**[N.B.]** を注意点とする。

---
# はじめに（モチベーション）
各種応用分野では**ヒルベルト空間**が数学的バックグランドとして自然に現れる

- 情報学
    - 信号処理：
        - フーリエ解析
    - 機械学習：（再生核ヒルベルト空間が背景）
        - ガウス過程
        - ニューラルネットワークの積分表現理論
- 物理学
    - 量子力学（系の状態を「ヒルベルト空間のベクトル」を用いて記述）

---
# ヒルベルト空間とは？
一言で言うと
- 内積が定義されているベクトル空間であって、内積から誘導されるノルムから誘導される距離に関して完備な空間

ヒルベルト空間の中でも（最も）重要な対象は$L^2$空間
$L^2$空間とは？：
- 二乗して「ルベーグ積分」可能な関数の集合

---
# ルベーグ積分とは？
高校で習う積分は「リーマン積分」

ルベーグ積分は
- リーマン積分では対応できない奇妙奇天烈な関数も積分することができる
- リーマン積分の拡張

---
# ルベーグ積分を理解するためには？
**測度論**の知識が必要になります

---
# すなわち
- 各応用分野 のための ヒルベルト空間
- ヒルベルト空間の中でも（最も）重要なのが $L^2$空間
- $L^2空間$ のための ルベーグ積分
- ルベーグ積分 のための 測度論

本スライドでは、
- 測度論の概説
- 測度とは？という疑問に答える

---
# 測度論のイントロダクション
集合に、その様子を要約するような「いい感じの値」を割り当てたい
割り当てのルールを考えてみよう
![height:500](外測度１.png)

---
# 測度論のイントロダクション
とりあえず、空集合$\varnothing$は0になってほしいな
![height:500](空集合.png)

---
# 測度論のイントロダクション
部分は全体よりも値が小さくなってほしいな
![height:500](外測度２.png)

---
# 測度論のイントロダクション
重なってる集合の値は、それぞれの値を足したものよりも小さくなってほしいな
![height:500](外測度３.png)


---
# 外測度
ルールをまとめてみるか。
$X$の部分集合を無限個とりだしてもいいようにルールを取り決めておこう。

**[Def]**
$X$を一般の集合、$\mathcal{P}(X)$を$X$の部分集合全体からなる集合族とする。
写像$\nu:\mathcal{P}(X) \rightarrow [0,\infty]$は次の性質をもつとする。
1. $\nu(\varnothing)=0$
2. $E \subset F$ならば$\nu(E) \le \nu(F)$
3. $X$の集合列$\{E_j\}_{j=1}^\infty$に対して
$$
\nu \left( \sum^\infty_{j=1}E_j \right) \le \sum^\infty_{j=1}\nu(E_j)
$$

$\nu$を**外測度**と名付けるか。

---
# 「外測度」へ至る道の出発点の取り直し（次の準備）
- $\mathcal{E}$を、$\mathcal{E} \ni \varnothing, \mathcal{E} \ni X$の条件を満たす「一般の集合$X$」の集合族とする。
- $\mathcal{E}$上に写像$\rho:\mathcal{E} \rightarrow [0, \infty]$が与えられており、$\rho(\varnothing)=0$とする。
- $X$の任意の部分集合$E$に対し、$S_E$を可算個の$\mathcal{E}$の元$A_k(k=1,2,\cdots)$で、$\bigcup^\infty_{k=1}A_k \supset E$なるものの集まりとし、$\mathcal{S}(E)$を$S_E$の全体とする。

ここで、$X$の任意の部分集合$E$に対し、$\nu(E)$を
$$
\nu(E) = \inf \left\{ \sum^\infty_{k=1}\rho(A_k)|S_E = \{ A_k\}^\infty_{k=1} \in \mathcal{S}(E) \right\}
$$
で定義する。右辺の下限は$S_E=\{A_k\}^\infty_{k=1}\in \mathcal{S}(E)$すべてについてとる。

$\nu$は外測度である。
(証明は省く。ちなみに、外測度の定義3の条件が成り立つのを示すには、$E=\cup^\infty_{j=1}E_j$となるような集合列$E_j$を考え、$E_j$をぎりぎり覆う$A_k$を考えたらよい。)

---
# 外測度
「いい感じのルール」になったかな？
ちょっと、$k$次元ユークリッド空間$\mathbb{R}^k$上でうまく動くか試してみる。

\# ここからユークリッド空間を対象に考える

---
# ユークリッド空間の半開区間
$\mathbb{R}^k$の半開区間$I$を以下で定義する。
$$
\begin{aligned}
I &= [a_1,b_1) \times [a_2,b_2) \times \cdots \times [a_k,b_k) \\
&= \{(x_1,x_2,\cdots,x_k) | a_1 \le x_1 < b_1, a_2 \le x_2 <b_2, \cdots, a_k \le x_k < b_k \}
\end{aligned}
$$

$I$の$k$次元体積を次の$|I|$で定義する。
$$
|I| = (b_1 -a_1)\times(b_2-a_2)\times\cdots\times(b_k-a_k)
$$

---
# ルベーグ外測度
$\mathbb{R}^k$の部分集合$S$が与えられたとき、$S$を可算個の半開区間でおおう被覆を考える。
$$
S \subset \bigcup^\infty_{n=1}I_n
$$
この被覆をいろいろにとったときの下限として、
$$
\nu(S)=\inf \sum|I_n|
$$
とおく。$\nu$を$S$の**ルベーグ外測度**とする。

---
# Q. ルベーグ外測度を使って、$\mathbb{R}^k$のすべての部分集合を測ることはできるか？


---
# A. できません
よって、$\mathbb{R}^k$の部分集合全体の集合を対象にするのではなく**適切に**制限した集合族を「測る」対象にする


---
# ルベーグ可測集合
次の条件を満たす$\mathbb{R}^k$の部分集合$E$をルベーグ可測集合という。

$\mathbb{R}^k$の任意の部分集合$A$に対して、
$$
\nu(A) = \nu(A \cap E)+\nu(A-E)
$$
が成り立つ。

---
# 外測度をつかって「測る」ことができない集合

ルベーグ非可測集合
**[Thm]**
ツェルメロの公理を仮定すると、$\mathbb{R}$にはルベーグ非可測集合が存在する。

---
# 測度論は
「集合をいい感じに測る方法」を使って、
「集合をいい感じに測る方法」が適用できるやつらだけ集めて、
その中で成り立つ性質を調べる。

\# 驚くべきことに上記の手続きはユークリッド空間に**限らない**
\# ここから「一般の集合」の世界に戻る

---
# 可測集合

**[Def]**
$\nu$を$X$上の外測度とする。$X$の任意の部分集合$A$に対し
$$ \nu(A)=\nu(A \cap E)+\nu(A-E) \qquad \qquad \tag{1}$$
が成立するとき、「$X$の部分集合$E$が$\nu$可測集合である」という。
(1)をカラテオドリの条件という。

---
# 可測集合
$\nu$可測集合ってどんな性質をもつか調べる。

**[Thm]** カラテオドリの定理
$\nu$を外測度とする。$X$の$\nu$可測集合の全体を$\mathcal{M}$とおく。
このとき、次が成立する。
1. $\mathcal{M}$は$\sigma$-集合体である。
2. $E\in \mathcal{M}$に対して$\mu(E)=\nu(E)$で$\mu$を定義すれば、$\mu$は$\mathcal{M}$上の完備な測度である。

---
# $\sigma$-集合体
**[Def]** $\sigma$-集合体

集合$X$の（空でない）部分集合族$\mathcal{S}$が$\sigma$-集合体であるとは、次の性質を満たすときを言う。
1. $E \in \mathcal{S}$ならば$E^c \in \mathcal{S}$
2. 集合列$\{E\}_{n=1}^\infty \in \mathcal{S}$ に対し $\bigcup^\infty_{n=1}E_n \in \mathcal{S}$

上記の性質から次の性質を持つことが言える。
（3.は1.と2.から、4.は1.と3.から示される。5.は1.と4.から自明。）

3. 集合列$\{E\}_{n=1}^\infty \in \mathcal{S}$ に対し $\bigcap^\infty_{n=1}E_n \in \mathcal{S}$
4. $E, F \in \mathcal{S}$ならば$E-F \in \mathcal{S}$
5. $\varnothing \in \mathcal{S}, X \in \mathcal{S}$

---
# $\sigma$-集合体

[N.B.]
$\sigma$-集合体は別名が多い
- 完全加法族・可算加法族・$\sigma$-加法族・$\sigma$-集合代数
- 加法族とだけ言う場合も（これは紛らわしい）


---
# 測度
外測度を可測集合上に制限したものを**測度**とする。

測度は以下の性質を持つ。
1. $\mu(\varnothing)=0$
2. $E_j \in \mathcal{M}_\mu  (j=1,2,\dots)$かつ$\bigcup^\infty_{j=1} E_j\in \mathcal{M}_\mu$かつ$E_i\cap E_j=\varnothing (i\not =j)$ならば
$$\mu\left(\bigcup^\infty_{j=1} E_j\right)=\sum^\infty_{j=1}\mu(E_j)$$

---
# 測度空間
集合$X$、可測集合$\mathcal{M}_\mu$、測度$\mu$を合わせて、$(X, \mathcal{M}_\mu,\mu)$のセットを測度空間という。

---
# 可測関数
一般の集合の「いい感じの部分集合」に「いい感じの値」が定められるなら、
一般の集合上の関数に対して、積分を考えられるんじゃね？


---
# ルベーグ積分
TODO:工事中

---
# ルベーグ二乗可積分な関数の集合
TODO:工事中

---
# Appendix

---
# ツェルメロの公理
$X$を集合、$\{E_\alpha|\alpha\in A\}$を$A$を添え字の集合とする$X$の部分集合の族とし、$E_\alpha \not =\varnothing$かつ$E_\alpha \cap E_\beta = \varnothing (\alpha \not = \beta)$とする。
このとき、各$E_\alpha$から一つずつ元$x_\alpha \in E_\alpha$をとって$E=\{ x_\alpha | \alpha \in A\}$という$X$の部分集合が構成できる。

---
# ルベーグ非可測集合の存在
**[Prf]**
実数$x$に対して、$E_x=\{x+r|r\in \mathbb{Q}\}$とおく。ここで$A=\{0\}\cup\{\mathbb{R}-\mathbb{Q}\}$とおき、集合族$X=\{E_x|x\in A\}$を考える。
$x,y \in A, x\not = y$のとき$E_x \cap E_y = \varnothing$より、ツェルメロの公理から$E$を各$E_x$から一つずつ元を選びそれを集めた集合とする。
$E$の２つの点の差は無理数だから$\{x-y | x \in E, y\in E\}$は区間を含まない。
一方、$E$がルベーグ可測集合かつ$\nu(E)>0$ならば、正数$\epsilon$で$\{x-y|x\in E, y\in E\} \supset (-\epsilon, \epsilon)$が存在する。
よって、$E$はルベーグ非可測集合かまたは$\nu(E)=0$である。
ここで、$\mathbb{R}=\bigcup_{r\in \mathbb{Q}}(E+r)$だから、$\nu(E)=0$と仮定すると$\nu(E+r)=0$。一方、$r,s\in\mathbb{Q}, r\not = s$のとき$(E+r)\cap(E+s)=\varnothing$より$\infty=\nu(\mathbb{R})=\sum_{r\in\mathbb{Q}}\nu(E+r)=0$となり矛盾する。
したがって、$E$はルベーグ非可測集合である。

---
# 完備な測度空間
**[Def]** 測度空間

**[Def]** 完備

---
# カラテオドリの定理の証明
**[Prf]**
6段階に分けて示していく。


---